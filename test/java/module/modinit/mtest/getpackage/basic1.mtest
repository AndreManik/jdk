#
# Verify that getPackage() return the correct information
# for the packages within the module
#
>>> begin module m1
> annotations
@MainClass("m1.MainA")
@ImportModules({
    @ImportModule(name="java.se")
})
> export
m1.MainA
>> begin class m1.MainA
> import
import java.net.*;
> run
	checkPackage();
> body
    private void checkPackage() throws Exception {
	String name = "m1";
	System.out.println("Checking package " + name + "...");
	ClassLoader cl = module.getClassLoader();
	Class clazz = cl.loadClass("m1.MainA");
	Package p = clazz.getPackage();
	if (p == null) {
	    throw new Exception("Cannot find package " + name);
	}
	if (p.getName().equals(name) == false) {
	    throw new Exception("Unexpected package: " + p.getName() + " instead of " + name);
	}
	if (p.isSealed() == false) {
	    throw new Exception("Package is not sealed");
	}
    }    
>> end class
>>> end module
>>> begin test m1
return
>>> end test
